# kds-team.ex-salesforce-v2 1.4.7

_Released on 2025-02-11_

**Component:** [kds-team.ex-salesforce-v2](https://github.com/keboola/component-salesforce-v2)  
**Tag:** [1.4.7](https://github.com/keboola/component-salesforce-v2/releases/tag/1.4.7)  
**Stage:** GA  


## AI Summary
Between tags test and 1.4.7 in the component-salesforce-v2 repository, significant changes include refactoring and adding retry strategies, fixing bugs related to fetching and UI, enhancing error handling for query building, adding API version selector and custom bucket support, improving speed and concurrency, and implementing OAuth login methods. Additionally, changes were made to metadata handling, column descriptions, and test query functionality. The codebase was also updated to use Bulk API v2.0 for improved performance. Overall, these changes aim to enhance functionality, reliability, and performance of the Salesforce data extraction component.



## Changes:



- Merged in refactor-fetching-and-retry-strategy (pull request #9) 




- updated readme 








- fixed pkey bug 




- fixed incremental fetch UI 




- fixed lowering issue 




- added checks for records found 




- fixed table columns being set to no records found 




- fixed error messages for building soql queries 




- Refactor - minor codestyle udpates 




- Merged in refactor/minor-codestyle-updates (pull request #10) 




- fixed blank columns 




- updated query parser and added tests 




- set columns to columns from reader or from statefile 




- Merged in update-output-column-logic (pull request #11) 




- fixed init bug 




- handle input query error 




- raise userexception from value error when building query 




- fixing pep8 error 




- removed refference from non supported bulk field types 




- added field filtering 




- added api version selector 




- changed default api version 




- added custom bucket support 




- destination includes table name 




- Merged in add-custom-bucket (pull request #12) 




- refactored code, added tempdir, put api_version to config schema from row 




- Merged in refactor-and-add-tempdir (pull request #14) 




- moved required field from row schema to schema 




- add default api version if version is missing 




- fixed pep8 




- fixed if statement of when to write data 




- Update jsonschema soql field as textarea 




- api version 42 




- Merge branch 'master' of https://bitbucket.org/kds_consulting_team/kds-team.ex-salesforce-v2 




- removed double writing, only writes once now 




- removed time logging 




- Merged in fix-download-speed (pull request #15) 




- removed unecessary for loop 




- Merged master into fix-download-speed 




- Merged in fix-download-speed (pull request #16) 




- added chunking 




- added chunking restricictions 




- Merged set-concurrency-parallel into master 




- speed up done 




- fixed incremental fetch when no last run is set 




- added typehints 




- Merged in refactor-add-typehints (pull request #18) 




- removed chunking 




- to test 




- Merged in refactor-speed-up-without-chunking (pull request #19) 




- added default object columns to manifest, delete dir and dont write manifest when there is no data returned from custom soql 




- Merged in HOTFIX/no-columns-in-manifest-when-no-data-error (pull request #20) 




- Merged in expired-password-error-logging (pull request #21) 




- Merged in bugfix/KCOFAC-853-connection-aborted (pull request #22) 




- added retry to describe_object method 




- added retry decorator to get_all_results_from_query_batch method 




- revert tries number to 3 




- added SalesforceClientException to all retry decorators 




- use backoff instead of retry 






- All exceptions are raised as UserException in component.py 




- remove explicit raise from run_query method 




- decorator refactor 




- remove bracket 




- Merged in hotfix/KCOFAC-853-salesforce-extractor---connec (pull request #23) 




- Update schema add versions 




- Merged in KCOFAC-1901-sync-actions-load-objects (pull request #24) 




- fix label and name switchup 




- Merged in hotfix/sync-actions-returning-invalid-column-name (pull request #27) 




- Merged in KCOFAC-1938-add-chunking (pull request #25) 




- Merged in KCOFAC-1948-add-test-connection (pull request #26) 




- Merged in KCOFAC-1951-fix-login (pull request #28) 




- add workbecnh link 




- Merged in KCOFAC-1937-update-schema-with-dev-bench-link (pull request #29) 




- add custom user error msg for expired password 




- Merged in feature/KCOFAC-1986-salesforce-extractor---expired-password-message (pull request #30) 




- add fields to gui 




- add syncAction 




- add logic to only fetch selected fields 




- flake8 fixes 




- fix jsonschema 




- reformat json 




- pr changes requested by David 




- add field validation to build_from_object function 




- Fix typo in column names sync action return value, update to new component lib, sync action element objects 




- load statefile only once to reduce duplicate log msg 




- Merged in feature/KCOFAC-1946-salesforce-extractor---column-selector (pull request #32) 




- Cleanup logging, fix value field  name bug, Field label matching standards 




- Fix LoadObjects sync action 




- Merged in feature/KCOFAC-1946-salesforce-extractor---column-selector (pull request #33) 




- rebase onto master 




- update test tag 




- fix unused imports, add default API version 




- add comments to initialization method 




- remove security token as mandatory 




- raise error if parameters for login missing 




- save metadata logic WIP 




- save metadata logic test 






- revert to original function name 




- fix typing 




- add table metadata overrides 








- modify metadata structure 










- add descriptions 




- add type conversion + refactor 




- add column descriptions 




- add datatypes 




- test table description 






- send lists and dicts as json dumps 




- store child relationships 




- process ordered dicts 




- parse nested structures 




- remove print, rename nested value 




- Merged in KCOFAC-1550-add-support-for-oauth-login (pull request #31) 




- remove table description adding 




- func naming change 




- resolve merge conflicts 




- remove unused imports 




- init version 




- add test query msg 






- raise SFException on failed test query 




- simplify logging msgs 




- raise new Exception on test query fail 




- add limit 1 to test soql query 






- use new object for test query 




- use deepcopy 




- rename conversion function 




- Merged in feature/KCOFAC-2020-salesforce-extractor---collect-column-metadata (pull request #34) 




- Merged master into hotfix/KCFS-260-Timeout-when-adding-one-field 




- do not use async query for test query 




- raise UE on MalformedRequest 




- remove new exception 






- make test_query private in component.py 




- Merged master into feature/KCOFAC-2020-salesforce-extractor---collect-column-metadata 




- do not store table description/metadata, add multipicklist to converter 




- add column metadata only if it is in downloaded columns 






- Merged in feature/KCOFAC-2020-salesforce-extractor---collect-column-metadata (pull request #36) 




- remove source_metadata from stored metadata 




- remove unused import 






- Merged in feature/KCOFAC-2020-salesforce-extractor---collect-column-metadata (pull request #37) 






- Merged in hotfix/KCFS-260-Timeout-when-adding-one-field (pull request #35) 




- do test query using run_query function 






- add test soql log msg 




- fail properly on test query fail 






- simplify test query error handling 




- add test query sync action 




- add button to gui 




- test markdown 




- generate markdown table 






- test different markdown format 






- Merged in hotfix/KCOFAC-2305-test-query-fails-long-url (pull request #38) 




- Resolve conflicts after merging with master 




- return markdown for test_query 




- enable test_query only for custom soql 




- remove backoff from test_query - already uses backoff from run_query 




- Add close job 




- Merged in HOT-FIX_close-job (pull request #40) 




- use messagetype table 




- Merged master into feature/KCOFAC-2266-salesforce-extractor---test-query-button 




- Merged in feature/KCOFAC-2266-salesforce-extractor---test-query-button (pull request #39) 




- Http proxy support 




- Merged in feature/proxy-support (pull request #41) 




- add oauth login methods 




- flake8 




- use only CONNECTED_APP_OAUTH_CC 




- add readme 




- gui update 




- remove dependency 




- format configSchema 




- changes requested in review 






- hide sandbox for cc 




- check for username/password 




- Merged in KCOFAC-2737-salesforce-extractor-oauth-2-0-client-credentials-auth-method (pull request #42) 




- Add space instead 




- Merged in bug/joined-text-SUPPORT-7224 (pull request #43) 




- Change iter_line because it lose end of lines in fields 






- Merged in bug/joined-text-SUPPORT-7224 (pull request #44) 




- Refactor and use Bulk API v2.0 










- polish and try page_size 






- Fix columns 




- logging change page size 




- Change implementation for query_all instead only query 






- Polishing 




- Update config schema 




- Fix params for new config schema 




- Check readme and upgrade docker Py version 




- fixed duplicated where in custom sql, added bucket and table params 






- Merged in fix/SUPPORT-9517 (pull request #46) 




- README.md edited online with Bitbucket 






- more logging and python 3.13 üêç ‚ö° 




- use bool for incremental üë∑‚Äç‚ôÇÔ∏è 




- Merged in SUPPORT-10283-logging-and-python-3.13 (pull request #47) 




- Merge branch 'master' of bitbucket.org:kds_consulting_team/kds-team.ex-salesforce-v2 into feature/Implement-Bulk-API-V2 




- omit deprecated typing classes + organize imports 




- Fix deprecation warning 




- Merged in feature/Implement-Bulk-API-V2 (pull request #45) 




- generate schema with dtypes for objects, use STRING for custom queries 




- ruff format 






- fix default schema 




- fix query type 




- fix name 




- Merged in feature/native-types (pull request #48) 






## Component Information
**Type:** extractor  
**Name:** Salesforce  

**Description:** A customer relationship management service (CRM)   


**Documentation:** [Link](https://help.keboola.com/components/extractors/marketing-sales/salesforce/)  



---
_Generated by [Release Notes Generator](https://github.com/keboola/release-notes-generator) on 2025-02-27 21:40:33_ 