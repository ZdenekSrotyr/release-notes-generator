#  kds-team.ex-postgres-cdc 1.4.0

_Released on 2025-02-24_

**Component:** [kds-team.ex-postgres-cdc](https://github.com/keboola/python-cdc-component)  
**Tag:** [1.4.0](https://github.com/keboola/python-cdc-component/releases/tag/1.4.0)  
**Stage:** PRODUCTION(GA)


## Change log (AI generated):
## CDC Data Processing Enhancements v1.4.0
Version 1.4.0 introduces refinements to CDC data processing, including filtering of heartbeat events, updated deduplication strategy, and internal optimizations.

This update brings several changes to the underlying data processing mechanisms between versions 1.3.0 and 1.4.0.

Key functional changes include:
*   **Heartbeat Event Filtering:** Debezium heartbeat events are now explicitly ignored during processing. This prevents these technical events from appearing in output tables or affecting the processing state.
*   **Automatic Deletion Flag:** The internal logic for setting the record deletion flag has been updated. Its value is now automatically derived based on the source event type (e.g., a 'delete' operation), simplifying internal processing while maintaining consistent output for deleted records.
*   **Deduplication Strategy:** The deduplication process has been standardized to always use size-based chunking. This modifies the internal mechanism for grouping data before deduplication, potentially impacting processing performance and resource usage for this step.

Other updates include adjustments to DuckDB memory configuration settings (`memory_limit` removed, `max_memory` potentially adjusted) to optimize resource allocation. Additionally, extensive code refactoring was undertaken across various components to improve clarity, structure, and maintainability. These refactoring efforts focused on enhancing code quality and are not intended to alter the fundamental data processing results.



## Changes:



- Fixed incrorrect nrStopAfter value in java tests 




- Removed memory_limit DuckDB configuration as it is only alias for max_memory 




- increase max_memory for DuckDB ðŸ¦† 




- Removing unstable fields from heartbeat table csv and excluding it from content comparison in tests 




- Unified and optimized docker images 




- Using Java 21 and unifiying build and runtime distribution 




- Removing duplicit logstash-gelf dependency 




- Removed build-essential from docker image as it is not required 




- Cleaned up notification implementation 




- Initial refactoring of configuration classes 




- Fixed name typo: Dedube -> Dedupe 




- Refactored CDC target and DuckDB configuration 




- Renamed DuckDbWrapper to DuckDbClient 




- Using more descriptive field and method names in state object 




- Simplified and better structured SyncStats methods 




- First cleanup of task shutdown and completion 




- Renamed (duckdb) converters to writers 




- Cleaning up writer implementation 




- Minor config and SnapshotProcessConsumer tweakes 




- Refactoring main processing logic (pt1) 




- Refactoring main processing logic (pt2) 




- Refactoring schema/result loading and saving 




- Added Consumer docs and cleaned up unused attributes 




- Renamed AbstractDebeziumTask as it is not abstract 




- Renamed SnapshotProcessConsumer to more descriptive SnapshotResult 




- Isolated json serialisation (GSON) into single class 




- Removed unwrap transformation from README as it is not used 




- Source field is never null 




- Deriving value of AddionalFields#deleted automatically instead of requiring explicit value 




- Fixed KCB -> KBC typos 




- Not processing heartbeat events 




- Always use size chunking on dedupe 




- Adjusted chunked PG tests to expect multiple slices 




- Refactored TablePerSchemaOrSizeChangeWriter 




- Renamed WriterMode to CaptureMode and documenting it 




- Bump MySQL component version to 0.14.0 




- Bump PostreSQL component version to 0.17.0 



[Compare on GitHub](https://github.com/keboola/python-cdc-component/compare/1.3.0...1.4.0)



## Component Information
**Type:** extractor
**Name:** PostgreSQL CDC

**Description:** PostgreSQL is an open source database renowned for its advanced features, reliability, and performance, enabling the development of robust, scalable applications.


**Documentation:** [Link](https://help.keboola.com/components/extractors/database/postgresql/#postgresql-log-based-cdc)



---
_Generated by [Release Notes Generator](https://github.com/keboola/release-notes-generator)
on 2025-04-10 06:38:26_