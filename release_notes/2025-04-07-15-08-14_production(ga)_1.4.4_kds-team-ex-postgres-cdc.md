#  kds-team.ex-postgres-cdc 1.4.4

_Released on 2025-04-07_

**Component:** [kds-team.ex-postgres-cdc](https://github.com/keboola/python-cdc-component)  
**Tag:** [1.4.4](https://github.com/keboola/python-cdc-component/releases/tag/1.4.4)  
**Stage:** PRODUCTION(GA)


## Change log (AI generated):
## Python CDC Component Enhancements: Improved Reliability and State Handling
This update enhances the Python CDC component's reliability, particularly for empty table snapshots and heartbeat detection, while simplifying delete processing.

Version 1.4.4 of the Python CDC component introduces several key improvements focused on reliability, state management, and configuration correctness. These changes ensure more robust data capture, especially in specific scenarios like initially empty tables or when using the "Changes only" mode.

Key updates impacting data processing and state include:
*   **Reliable Empty Table Snapshots:** Kafka offsets are now correctly committed even when an initial table snapshot contains no data. This is achieved by enabling and processing Debezium sink notifications, ensuring the snapshot phase is accurately marked as complete and preventing potential reprocessing.
*   **Improved Heartbeat Detection:** Heartbeat messages are now identified more reliably by checking the `destination` field within the message value, rather than relying on the Kafka topic name. This ensures accurate connector status monitoring.
*   **Simplified Delete Handling:** Tombstone messages (null-payload messages generated on source deletes) are now disabled (`tombstones.on.delete=false`). The component relies solely on `DELETE` operation messages (`op='d'`), streamlining the data feed by removing these extra null messages.

Configuration and mode-specific behavior have been refined:
*   **Correct "Changes only" Mode:** The component now correctly uses `snapshot.mode='no_data'` when "Changes only" is selected, aligning with current Debezium standards instead of the deprecated `never` setting.
*   **Strict "Changes only" Enforcement:** Snapshot table creation and processing are now explicitly prevented when `snapshot.mode='no_data'` is active, ensuring strict adherence to the "Changes only" configuration.

Additionally, internal mechanisms have been improved for robustness, including centralizing internal signaling via the Debezium Sink notification channel and fixing typos in notification handlers. Code refactoring and dependency updates were also performed to enhance maintainability.



## Changes:



- sorted Debezium properties in log 




- example regex was not a valid regex ü™≤ 




- use "database" instead of "schema" in UI for MySQL üê¨ 




- Enabling Sink notifications to force offset commits for no-data snapshots 




- Detecting heartbeats based on destination not schema name 




- Disabling tombstones and removing special handling 




- Notifications are now handled only via Sink channel 




- Revert "temporarily disable Changes only snapshot_mode in the UI" 




- Fixed typos in notification handlers and logs 




- refactoring (mostly) the run method 




- do not create snapshots in Changes only mode üôÄ 




- fix tests for fixed Changes only mode üë∑‚Äç‚ôÇÔ∏è 




- CR first round ü•ä 




- separate snapshot result methods 




- updated docstrings 




- removing unused imports 




- renaming for readability üëÄ 




- Changes only snapshot_mode in UI passes "no_data" instead of "never" 




- MySQL 0.14.4 / PostgreSQL 0.17.4 



[Compare on GitHub](https://github.com/keboola/python-cdc-component/compare/1.4.3...1.4.4)



## Component Information
**Type:** extractor
**Name:** PostgreSQL CDC

**Description:** PostgreSQL is an open source database renowned for its advanced features, reliability, and performance, enabling the development of robust, scalable applications.


**Documentation:** [Link](https://help.keboola.com/components/extractors/database/postgresql/#postgresql-log-based-cdc)



---
_Generated by [Release Notes Generator](https://github.com/keboola/release-notes-generator)
on 2025-04-10 06:35:44_