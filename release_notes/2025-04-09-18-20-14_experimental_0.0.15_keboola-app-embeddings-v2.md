#  keboola.app-embeddings-v2 0.0.15

_Released on 2025-04-09_

**Component:** [keboola.app-embeddings-v2](https://github.com/keboola/component-embeddings-v2)  
**Tag:** [0.0.15](https://github.com/keboola/component-embeddings-v2/releases/tag/0.0.15)  
**Stage:** EXPERIMENTAL


## Change log (AI generated):
## Corrected Batch Size Handling for Text Embeddings
This update fixes how text documents are grouped for embedding, ensuring the specified batch size parameter is correctly used.

We have corrected the batching logic within the text embedding component. Previously, when splitting text documents, the component might have incorrectly defaulted to a generic batch size instead of using the specific `batch_size` parameter intended for the operation or model.

This change ensures that documents are grouped into batches according to the specified size before being sent to the embedding model API. This leads to more predictable processing, better adherence to API limits (especially where model-specific batch sizes are necessary), and potentially improved processing efficiency. The update affects the `Embedder.embed_documents` method in `component_main/embedder.py`.

---

## Embedding Component Minor Updates and Warning Suppression
Minor technical updates have been made to the embedding component to suppress warnings and reduce log noise.

We've implemented two small changes within the embedding component framework. First, for calls to AWS Bedrock models, the `inputTokenCount=0` parameter has been added to the `invoke_model` request. This suppresses a specific warning from the Bedrock API without altering the request's function or the resulting embeddings. This change is located in the `BedrockEmbedder.embed_batch` method (`component_main/embedder.py`).

Second, code has been added across `component_main/component.py`, `component_main/data.py`, and `component_main/embedder.py` to suppress specific warnings related to library usage (`Could not find the task name`). This helps reduce log noise. Neither of these changes affects data processing or the functionality of the embedding component.



## Changes:



- Fix Bedrock warning 




- TYPO 




- Suppress warnings 










- PR #15 




- Update Version 




- PR #16 



[Compare on GitHub](https://github.com/keboola/component-embeddings-v2/compare/0.0.14...0.0.15)



## Component Information
**Type:** application
**Name:** Embeddings-v2

**Description:** keboola.app-embeddings-v2 short description


**Documentation:** [Link](https://github.com/keboola/component-embeddings-v2/blob/master/README.md)



---
_Generated by [Release Notes Generator](https://github.com/keboola/release-notes-generator)
on 2025-04-10 06:45:13_